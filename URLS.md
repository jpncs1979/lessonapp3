# アプリのアドレス一覧

## ローカル環境で確認するとき

開発用サーバーを起動したあと、次のアドレスで開きます。

| 用途     | アドレス              |
|----------|------------------------|
| ローカル | http://localhost:3000 |

**起動方法**  
ターミナルでプロジェクトのフォルダに移動し、次を実行する。

```bash
npm run dev
```

表示された「Local: http://localhost:3000」のリンクをクリックするか、ブラウザのアドレス欄に `http://localhost:3000` を入力する。

---

## ネット上（本番）で公開しているとき

Vercel などにデプロイしている場合は、発行された URL が本番のアドレスです。

| 用途     | アドレス                                    |
|----------|---------------------------------------------|
| 本番     | https://lessonapp3.vercel.app               |

※ プロジェクト名やドメインを変えている場合は、Vercel のダッシュボード（Deployments または Settings → Domains）に表示されている URL に書き換えてください。

---

## Line・iPhone でデータが更新されないとき

**症状**  
パソコンでは更新したのに、Line のブラウザや iPhone の Safari で開くと、古いデータのまま・または何も表示されない。

**原因**  
このアプリは次の2通りで動きます。

| 設定                         | データの保存場所     | 複数デバイス |
|------------------------------|----------------------|--------------|
| Supabase の環境変数**なし**  | 各端末のブラウザ内だけ | 同期されない |
| Supabase の環境変数**あり**  | Supabase のサーバー   | 同期される   |

Line や iPhone は「別の端末」なので、**本番サイト（Vercel）が Supabase を使っていない**と、それぞれ別々のデータになり、更新が反映されません。

**対処（本番でも同じデータにしたい場合）**

次のドキュメントに、画面のどこを押すかまで含めた**初心者向けの手順**があります。  
→ **[docs/全デバイスで同じデータを見る手順.md](./docs/全デバイスで同じデータを見る手順.md)**

概要だけここに書きます。

1. **Supabase を用意する**  
   [SUPABASE.md](./SUPABASE.md) の手順で、Supabase のプロジェクト作成・マイグレーション・メール確認オフまで行う。

2. **Vercel に環境変数を入れる**  
   - [vercel.com](https://vercel.com) でこのプロジェクトを開く  
   - **Settings** → **Environment Variables**  
   - 次の2つを追加する  
     - `NEXT_PUBLIC_SUPABASE_URL` ＝ Supabase の Project URL  
     - `NEXT_PUBLIC_SUPABASE_ANON_KEY` ＝ Supabase の anon key  

3. **Redeploy する**  
   - **Deployments** タブを開く  
   - いちばん上のデプロイの **⋯** → **Redeploy** を実行する  

4. **Line・iPhone でやり直す**  
   - 本番の URL（例: https://lessonapp3.vercel.app）を**再度開く**  
   - 必要なら「更新」や「再読み込み」をする  
   - もう一度、名前を選んでメール・パスワードでログインする  

ここまで行うと、パソコンで入れたデータが Line・iPhone でも同じように表示され、逆に Line・iPhone で変更した内容もパソコンに反映されます。

**補足**  
- 環境変数を追加したあと、**Redeploy しないと**本番サイトは Supabase に繋がりません。  
- いまのまま「環境変数なし」で使う場合は、Line・iPhone とパソコンは**別々のデータ**のままです（仕様どおりの動きです）。

---

## メモ

- **ローカル** … 自分のパソコン上だけで動いている状態。同じネットワークの他の人には見せられない。
- **本番（ネット上）** … インターネットに公開された状態。URL を知っている人ならどこからでもアクセスできる。
